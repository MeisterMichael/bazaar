.modal.fade{ id: "#{args[:attribute]}_modal" }
	.modal-dialog
		.modal-content
			.modal-header
				%button.close{ type: :button, 'data-dismiss' => 'modal', 'aria-hidden' => 'true' }
					&times;
				%h4.modal-title
					Edit #{ args[:title] }
					%small
						#{@subscription.code}
			= form_for @subscription.try(args[:attribute]), url: address_subscription_admin_path( @subscription, attribute: args[:attribute] ), method: :POST, html: {} do |f|
				.modal-body
					.form-group
						%label
							%span First Name
						= f.text_field :first_name, class: 'form-control', required: true
						.help-block.with-errors

					.form-group
						%label
							%span Last Name
						= f.text_field :last_name, class: 'form-control', required: true
						.help-block.with-errors

					.form-group
						%label
							%span Country
						- if @billing_countries.count == 1
							= f.hidden_field :geo_country_id, value: @billing_countries.first.id
							.form-control= @billing_countries.first.name
						- else
							= f.collection_select :geo_country_id, @billing_countries, :id, :name, { prompt: @billing_countries.count > 1 }, { class: "form-control", data: {'geostateupdate-target' => '#order_billing_address_state', 'geostateupdate-data' => { address_attribute: :billing_address }.to_json}, required: true  }
						.help-block.with-errors


					.form-group
						%label
							%span State
						= render 'swell_ecom/checkout/state_input', f: f, states: @billing_states, id: 'order_billing_address_state'
						.help-block.with-errors
					.form-group
						%label
							%span Address Line 1
						= f.text_field :street, class: 'form-control', required: true
						.help-block.with-errors

					.form-group
						%label
							%span Address Line 2
							%small (optional)
						= f.text_field :street2, class: 'form-control'
						.help-block.with-errors

					.form-group
						%label
							%span City
						= f.text_field :city, class: 'form-control', required: true
						.help-block.with-errors

					.form-group
						%label
							%span Zip
						= f.text_field :zip, class: 'form-control', "data-stripe" => "address_zip", required: true
						.help-block.with-errors

					.form-group
						%label
							%span Phone Number
						= f.telephone_field :phone, value: (@subscription.try(args[:attribute]).phone || '+1'), class: 'form-control telephone_formatted', required: true
						.help-block.with-errors


				.modal-footer
					%button.btn.btn-default{ type: :button, 'data-dismiss' => 'modal' }
						Close
					= f.submit 'Refund', class: 'btn btn-primary'
